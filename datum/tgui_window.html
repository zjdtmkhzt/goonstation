<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;tgui_window - Goon Station 13</title>
</head>
<body>
<header>
    <a href="index.html">Goon Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/tgui_window.html#proc">Proc Details</a></header>
<main>
<h1>/<a href="datum.html">datum</a>/<a href="datum/tgui_window.html">tgui_window</a>
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L6">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 6"/></a></h1>

<p>Copyright (c) 2020 Aleksej Komarov
SPDX-License-Identifier: MIT</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/New">New</a></th><td>public</td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/acquire_lock">acquire_lock</a></th><td>public</td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/can_be_suspended">can_be_suspended</a></th><td>public</td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/close">close</a></th><td>public</td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/flush_message_queue">flush_message_queue</a></th><td>private</td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/handle_cdn_asset">handle_cdn_asset</a></th><td></td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/initialize">initialize</a></th><td>public</td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/is_ready">is_ready</a></th><td>public</td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/on_message">on_message</a></th><td>private</td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/release_lock">release_lock</a></th><td>Release the window lock.</td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/send_asset">send_asset</a></th><td>public</td></tr>
            <tr><th><a href="datum/tgui_window.html#proc/send_message">send_message</a></th><td>public</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/New">New<aside>(/<a href="client.html">client</a>/client, id, tgui_pooled) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L26">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 26"/></a></aside>
        </h3>
        <p>public</p>
<p>Create a new tgui window.</p>
<p>required client /client
required id string A unique window identifier.</p><h3 id="proc/acquire_lock"><aside class="declaration">proc </aside>acquire_lock<aside>(/<a href="datum.html">datum</a>/<a href="datum/tgui.html">tgui</a>/ui) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L148">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 148"/></a></aside>
        </h3>
        <p>public</p>
<p>Acquire the window lock. Pool will not be able to provide this window
to other UIs for the duration of the lock.</p>
<p>Can be given an optional tgui datum, which will hook its on_message
callback into the message stream.</p>
<p>optional ui /datum/tgui</p><h3 id="proc/can_be_suspended"><aside class="declaration">proc </aside>can_be_suspended<aside>() 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L130">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 130"/></a></aside>
        </h3>
        <p>public</p>
<p>Checks if the window can be sanely suspended.</p>
<p>return bool</p><h3 id="proc/close"><aside class="declaration">proc </aside>close<aside>(can_be_suspended) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L169">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 169"/></a></aside>
        </h3>
        <p>public</p>
<p>Close the UI.</p>
<p>optional can_be_suspended bool</p><h3 id="proc/flush_message_queue"><aside class="declaration">proc </aside>flush_message_queue<aside>() 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L235">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 235"/></a></aside>
        </h3>
        <p>private</p>
<p>Sends queued messages if the queue wasn't empty.</p><h3 id="proc/handle_cdn_asset"><aside class="declaration">proc </aside>handle_cdn_asset<aside>(/<a href="datum.html">datum</a>/asset/asset, /list/inline_styles, /list/inline_scripts) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L92">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 92"/></a></aside>
        </h3>
        <ul>
<li>
<p>|GOONSTATION-ADD|</p>
</li>
<li>
<p>private</p>
</li>
<li>
<p>Does Goonstation CDN shit to assets, essentially either throws in the url or the filepath to the asset.</p>
</li>
</ul><h3 id="proc/initialize"><aside class="declaration">proc </aside>initialize<aside>(inline_assets) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L45">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 45"/></a></aside>
        </h3>
        <p>public</p>
<p>Initializes the window with a fresh page. Puts window into the &quot;loading&quot;
state. You can begin sending messages right after initializing. Messages
will be put into the queue until the window finishes loading.</p>
<p>optional inline_assets list List of assets to inline into the html.</p><h3 id="proc/is_ready"><aside class="declaration">proc </aside>is_ready<aside>() 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L120">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 120"/></a></aside>
        </h3>
        <p>public</p>
<p>Checks if the window is ready to receive data.</p>
<p>return bool</p><h3 id="proc/on_message"><aside class="declaration">proc </aside>on_message<aside>(type, /list/payload, /list/href_list) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L247">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 247"/></a></aside>
        </h3>
        <p>private</p>
<p>Callback for handling incoming tgui messages.</p><h3 id="proc/release_lock"><aside class="declaration">proc </aside>release_lock<aside>() 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L155">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 155"/></a></aside>
        </h3>
        <p>Release the window lock.</p><h3 id="proc/send_asset"><aside class="declaration">proc </aside>send_asset<aside>(/<a href="datum.html">datum</a>/asset/asset) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L223">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 223"/></a></aside>
        </h3>
        <p>public</p>
<p>Makes an asset available to use in tgui.</p>
<p>required asset datum/asset</p><h3 id="proc/send_message"><aside class="declaration">proc </aside>send_message<aside>(type, /list/payload, force) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/modules/tgui/tgui_window.dm#L199">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;tgui_window.dm 199"/></a></aside>
        </h3>
        <p>public</p>
<p>Sends a message to tgui window.</p>
<p>required type string Message type
required payload list Message payload
optional force bool Send regardless of the ready status.</p></main>
<footer>
    goonstation.dme
    <a href="https://github.com/zjdtmkhzt/goonstation/tree/5cd5109cad046f6363415551c22eb1c1aca5df2c">5cd5109</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.3.0</a></footer>
</body>
</html>

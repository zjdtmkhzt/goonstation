<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;antagWeighter - Goon Station 13</title>
</head>
<body>
<header>
    <a href="index.html">Goon Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/antagWeighter.html#proc">Proc Details</a></header>
<main>
<h1>/<a href="datum.html">datum</a>/<a href="datum/antagWeighter.html">antagWeighter</a>
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/datums/antag_weighting.dm#L8">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;antag_weighting.dm 8"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/antagWeighter.html#proc/calculateWeightings">calculateWeightings</a></th><td>Queries the goonhub API for hisorical antag rounds for the pool of minds given</td></tr>
            <tr><th><a href="datum/antagWeighter.html#proc/choose">choose</a></th><td>Queries the goonhub API for hisorical antag rounds for the pool of minds given
Returns a list of minds that haevn't played up to the percentage of antag rounds defined in config</td></tr>
            <tr><th><a href="datum/antagWeighter.html#proc/completeHistory">completeHistory</a></th><td>Get the entire antag selection history for a player (all roles, all modes)</td></tr>
            <tr><th><a href="datum/antagWeighter.html#proc/history">history</a></th><td>Queries the goonhub API for hisorical antag rounds for a single target
NOTE: Currently unused</td></tr>
            <tr><th><a href="datum/antagWeighter.html#proc/record">record</a></th><td>Records an antag selection for a single player</td></tr>
            <tr><th><a href="datum/antagWeighter.html#proc/recordMultiple">recordMultiple</a></th><td>Records multiple antag selections at once, reduces API usage</td></tr>
            <tr><th><a href="datum/antagWeighter.html#proc/simulateHistory">simulateHistory</a></th><td>Simulates a history response from the API, so local development doesn't fuck up</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/calculateWeightings"><aside class="declaration">proc </aside>calculateWeightings<aside>(role, /list/history) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/datums/antag_weighting.dm#L109">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;antag_weighting.dm 109"/></a></aside>
        </h3>
        <p>Queries the goonhub API for hisorical antag rounds for the pool of minds given</p>
<p>@param string role Name of the antag role we're picking for (e.g. traitor, spy_thief)
@param list history List of historical antag data returned by the goonhub API
@return list List ckeys sorted by weight (highest weight first)</p><h3 id="proc/choose"><aside class="declaration">proc </aside>choose<aside>(/list/pool, role, amount, recordChosen) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/datums/antag_weighting.dm#L177">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;antag_weighting.dm 177"/></a></aside>
        </h3>
        <p>Queries the goonhub API for hisorical antag rounds for the pool of minds given
Returns a list of minds that haevn't played up to the percentage of antag rounds defined in config</p>
<p>@param list pool List of minds under consideration for antag picking
@param string role Name of the antag role we're picking for (e.g. traitor, spy_thief)
@param int amount Max amount of players to choose for this role
@param boolean recordChosen When true, triggers a src.recordMultiple() for the chosen players
@return list List of minds chosen</p><h3 id="proc/completeHistory"><aside class="declaration">proc </aside>completeHistory<aside>(ckey) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/datums/antag_weighting.dm#L58">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;antag_weighting.dm 58"/></a></aside>
        </h3>
        <p>Get the entire antag selection history for a player (all roles, all modes)</p>
<p>@param string ckey Ckey of the person we're looking up
@return list List of history details</p><h3 id="proc/history"><aside class="declaration">proc </aside>history<aside>(role, ckey) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/datums/antag_weighting.dm#L37">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;antag_weighting.dm 37"/></a></aside>
        </h3>
        <p>Queries the goonhub API for hisorical antag rounds for a single target
NOTE: Currently unused</p>
<p>@param string role Name of the antag role we're looking up (e.g. traitor, spy_thief)
@param string ckey Ckey of the person we're looking up
@return list List of history details</p><h3 id="proc/record"><aside class="declaration">proc </aside>record<aside>(role, ckey, latejoin) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/datums/antag_weighting.dm#L294">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;antag_weighting.dm 294"/></a></aside>
        </h3>
        <p>Records an antag selection for a single player</p>
<p>@param string role Name of the antag role we're recording a selection for
@param string ckey Ckey of the player
@param boolean latejoin Whether this record is a latejoin antag selection
@return null</p><h3 id="proc/recordMultiple"><aside class="declaration">proc </aside>recordMultiple<aside>(/list/players) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/datums/antag_weighting.dm#L319">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;antag_weighting.dm 319"/></a></aside>
        </h3>
        <p>Records multiple antag selections at once, reduces API usage</p>
<p>@param list players Specially formatted list of players to record selection for. e.g.
players = list(
&quot;ckeyforadude1&quot; = &quot;traitor&quot;,
&quot;ckeyforadude2&quot; = &quot;wraith&quot;
)
@return null</p><h3 id="proc/simulateHistory"><aside class="declaration">proc </aside>simulateHistory<aside>(role, /list/ckeyMinds) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/5cd5109cad046f6363415551c22eb1c1aca5df2c/code/datums/antag_weighting.dm#L87">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;antag_weighting.dm 87"/></a></aside>
        </h3>
        <p>Simulates a history response from the API, so local development doesn't fuck up</p>
<p>@param string role Name of the antag role we're looking up (e.g. traitor, spy_thief)
@param list ckeyMinds List of minds keyed by ckeys
@return list Simulated response</p></main>
<footer>
    goonstation.dme
    <a href="https://github.com/zjdtmkhzt/goonstation/tree/5cd5109cad046f6363415551c22eb1c1aca5df2c">5cd5109</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.3.0</a></footer>
</body>
</html>

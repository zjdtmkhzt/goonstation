<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;vote_manager - Goon Station 13</title>
</head>
<body>
<header>
    <a href="index.html">Goon Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/vote_manager.html#proc">Proc Details</a></header>
<main>
<h1>/<a href="datum.html">datum</a>/<a href="datum/vote_manager.html">vote_manager</a>
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/3c5bec660715ed246e81aa48449149a59f267dc3/code/WorkInProgress/NewVote.dm#L59">
        <img src="git.png" width="16" height="16" title="code&#x2F;WorkInProgress&#x2F;NewVote.dm 59"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/vote_manager.html#proc/show_vote">show_vote</a></th><td>*if(&quot;Player Ban&quot;)
if(world.time &lt; 6000)
boutput(C, &quot;<span class='alert'>You may not start this type of vote yet.</span>&quot;)
return
var/list/bannable = new/list()
for(var/mob/M in mobs)
if(!M.client) continue
if(istype(M,/mob/new_player)) continue
if(M.client.holder) continue
bannable += M.name
bannable[M.name] = M
bannable += &quot;<em><strong>CANCEL</strong></em>&quot;
var/player = input(C,&quot;Please choose player:&quot;,&quot;Vote&quot;,null) in bannable
if(!player || player == &quot;<em><strong>CANCEL</strong></em>&quot;) return 0
var/mob/picked = bannable[player]
if(!picked) return 0
if(active_vote) return 0
active_vote = new/datum/vote_new/ban(picked.client)
boutput(world, &quot;<span class='success'><BIG><B>Vote Ban ([player]) initiated by [C.ckey]</B></BIG></span>&quot;)
show_vote(C)
return 1
if(&quot;Player Mute&quot;)
if(world.time &lt; 6000)
boutput(C, &quot;<span class='alert'>You may not start this type of vote yet.</span>&quot;)
return
var/list/muteable = new/list()
for(var/mob/M in mobs)
if(!M.client) continue
if(istype(M,/mob/new_player)) continue
if(M.client.holder) continue
muteable += M.name
muteable[M.name] = M
muteable += &quot;<em><strong>CANCEL</strong></em>&quot;
var/player = input(C,&quot;Please choose player:&quot;,&quot;Vote&quot;,null) in muteable
if(!player || player == &quot;<em><strong>CANCEL</strong></em>&quot;) return 0
var/mob/picked = muteable[player]
if(!picked) return 0
if(active_vote) return 0
active_vote = new/datum/vote_new/mute(picked.client)
boutput(world, &quot;<span class='success'><BIG><B>Vote Mute ([player]) initiated by [C.ckey]</B></BIG></span>&quot;)
show_vote(C)
return 1</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/show_vote"><aside class="declaration">proc </aside>show_vote<aside>(/<a href="client.html">client</a>/C) 
        
    
            <a href="https://github.com/zjdtmkhzt/goonstation/blob/3c5bec660715ed246e81aa48449149a59f267dc3/code/WorkInProgress/NewVote.dm#L153">
        <img src="git.png" width="16" height="16" title="code&#x2F;WorkInProgress&#x2F;NewVote.dm 153"/></a></aside>
        </h3>
        <p>*if(&quot;Player Ban&quot;)
if(world.time &lt; 6000)
boutput(C, &quot;<span class='alert'>You may not start this type of vote yet.</span>&quot;)
return
var/list/bannable = new/list()
for(var/mob/M in mobs)
if(!M.client) continue
if(istype(M,/mob/new_player)) continue
if(M.client.holder) continue
bannable += M.name
bannable[M.name] = M
bannable += &quot;<em><strong>CANCEL</strong></em>&quot;
var/player = input(C,&quot;Please choose player:&quot;,&quot;Vote&quot;,null) in bannable
if(!player || player == &quot;<em><strong>CANCEL</strong></em>&quot;) return 0
var/mob/picked = bannable[player]
if(!picked) return 0
if(active_vote) return 0
active_vote = new/datum/vote_new/ban(picked.client)
boutput(world, &quot;<span class='success'><BIG><B>Vote Ban ([player]) initiated by [C.ckey]</B></BIG></span>&quot;)
show_vote(C)
return 1
if(&quot;Player Mute&quot;)
if(world.time &lt; 6000)
boutput(C, &quot;<span class='alert'>You may not start this type of vote yet.</span>&quot;)
return
var/list/muteable = new/list()
for(var/mob/M in mobs)
if(!M.client) continue
if(istype(M,/mob/new_player)) continue
if(M.client.holder) continue
muteable += M.name
muteable[M.name] = M
muteable += &quot;<em><strong>CANCEL</strong></em>&quot;
var/player = input(C,&quot;Please choose player:&quot;,&quot;Vote&quot;,null) in muteable
if(!player || player == &quot;<em><strong>CANCEL</strong></em>&quot;) return 0
var/mob/picked = muteable[player]
if(!picked) return 0
if(active_vote) return 0
active_vote = new/datum/vote_new/mute(picked.client)
boutput(world, &quot;<span class='success'><BIG><B>Vote Mute ([player]) initiated by [C.ckey]</B></BIG></span>&quot;)
show_vote(C)
return 1</p></main>
<footer>
    goonstation.dme
    <a href="https://github.com/zjdtmkhzt/goonstation/tree/3c5bec660715ed246e81aa48449149a59f267dc3">3c5bec6</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.2.2</a></footer>
</body>
</html>
